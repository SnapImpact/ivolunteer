

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="generator" content="JsDoc Toolkit" />
  
  <title>JsDoc: SC.Benchmark</title>
</head>

<style type="text/css">
  /* @override http://localhost:4020/static/sproutcore/-docs/data/default.css */

/* @group Core */

body.sc-doc {
  background-color: white  ;
  padding: 20px;
}

.sc-doc {
  font: 64.5% Helvetica, Arial, Verdana, sans-serif;
  line-height: 1em ;
}

/* Set standard size on some things. */
.sc-doc p, 
.sc-doc dd, 
.sc-doc dt, 
.sc-doc li, 
.sc-doc table {
  line-height: 1.3em;
  font-size: 1.3em ;
}

.sc-doc h1 {
  font-size: 3em;
  margin: 0 0 1em 0;
  text-transform: capitalize;
}

.sc-doc h2 {
  padding: 0;
  padding-bottom: 4px;
  border-bottom: 1px #555 solid;
  text-transform: capitalize;
  margin: 1.5em 0 0;
  font-size: 2.2em;
}

.sc-doc h3 {
  font-size: 2em;
  padding: 0;
  margin: 3em 0 0 0;  
}

.sc-doc h4 {
  font-weight: normal ;
  font-size: 1.4em;
  margin: 0.5em 0 0 0;
  padding: 0;
}

.sc-doc h5 {
  font-size: 1.3em;
  padding: 0;
  margin: 1.3em 0 0.5em 0;
}

.sc-doc p { margin: 0.5em 0; }
 
.sc-doc a {
  text-decoration: none ;
}

.sc-doc label {
  font-weight: bold ;
}

.sc-doc .sc-theme .ghost {
  -moz-user-select: none;
  -khtml-user-select: none;
  user-select: none;
  opacity: 0.45;
  -moz-opacity: .45 ;
}

.sc-doc dt {
  font-style: italic;
}

.sc-doc dd {
 margin: 0 0 1em 1em;
}

/* @end */

/* @group Summary Table */

.sc-doc table.summary {
  min-width: 600px;
  border: 1px #999 solid;
  border-bottom: none ;
  border-spacing: 0;
  margin-bottom: 2em;
}

.sc-doc table.summary td {
  border-bottom: 1px #999 solid;
  border-collapse: collapse;
  padding: 0.5em;
  text-align: left ;
}

.sc-doc table.summary .even td {
  background-color: #eef;
}

.sc-doc table.summary td.label {
  font-weight: bold ;
  width: 100px;
  text-align: right ;
  padding-right: 4px;
}

.sc-doc table.summary td.value {
  min-width: 300px;
  width: 300px;
}

/* @end */

/* @group Field & Method Summary */

.sc-doc .summary li {
  list-style-type: none ;
  position: relative;
}

.sc-doc .summary li code {
  font-size: 1.1em;
}

.sc-doc .summary li .description {
  display: none ;
}

.sc-doc .summary li:hover .description {
  display: block ;
  font-size: 0.86em;
  position: absolute ;
  left: 80px;
  bottom: 2em;
  padding: 0.3em 1em ;
  background-color: #fff898;
  border: 1px solid #bbae2f;
  /* -webkit-box-shadow: rgba(0,0,0,0.3) 0px 2px 5px; */
  color: #4b4000;
  z-index: 100;
}

/* @end */

/* @group Detail */

.sc-doc .detail p.signature {
  padding: 0;
  margin: 1em 0;
  font-family: Courier, mono;
}

.sc-doc .detail p.signature .type {
  font-style: italic;
}

.sc-doc .detail p.signature .name {
  font-weight: bold ;
}

/* @end */

.sc-doc .jsdoc_ctime {
  border-top: 1px #ccc solid ;
  padding: 4px 0;
  margin-top: 20px;
  margin-bottom: 0px;
  font-size: 1.0em;
  text-align: center ;
  color: #888 ;
}

/* @group Description */

.sc-doc .description blockquote,
.sc-doc .description p.code {
  padding:  10px ;
  margin: 10px 20px;
  background-color: #f5f5f5 ;
  border: 1px #ccc solid ;
}

/* @end */

</style>

<body class="sc-theme sc-doc">
  <h1>
    
    Namespace SC.Benchmark
  </h1>

  <table class="summary">
  

  

  

  
    <tr class="even">
      <td class="label">Defined in:</td>
      <td class="value"><a href="../symbols/src/_Library_Ruby_Gems_1.8_gems_sproutcore-0.9.19_frameworks_sproutcore_foundation_benchmark.js.html">frameworks/sproutcore/foundation/benchmark.js</a></td>
    </tr>
  

  

  
  </table>

  
    <div class="description">
      <p>SC.Benchmark</p>

<p>This bit of meta-programming magic can install a benchmark handler on any object method.  When a benchmark is installed, the time required to execute the method will be printed to the console log everytime the method is called.</p>

<p>This class can be used to implement benchmarking.  To use this object, just call start() with a key name and end() with a keyname.  The benchmark will be logged.  If you set verbose = true, then benchmark will log everytime it saves a bench.  Otherwise, it just keeps stats.  You can get the stats by calling report().</p>

<p>Benchmark does not require anything other than the date.js class.  It also does not rely on SC.Object so that you can benchmark code in that area as well.</p>

    </div>
  

  <!-- ============================== properties summary ===================== -->
  
    
    
    
    
      <div class="field-summary summary">
        <h2>Property Summary</h2>
        <ul>
        
          
            <li>
              <a href="../symbols/SC.Benchmark.html#.enabled"><code>+&nbsp;(bool) enabled</code></a>
              
                <div class="description">If false, benchmarking will be disabled.</div>
              
            </li>
          
        
          
            <li>
              <a href="../symbols/SC.Benchmark.html#.stats"><code>+&nbsp;(Object) stats</code></a>
              
                <div class="description">This hash stores collected stats.</div>
              
            </li>
          
        
          
            <li>
              <a href="../symbols/SC.Benchmark.html#.verbose"><code>+&nbsp;(bool) verbose</code></a>
              
                <div class="description">If true, then benchmarks will be logged to the console as they are 
    recorded.</div>
              
            </li>
          
        
        </ul>
      </div>
    
  

  

<!-- ============================== methods summary ======================== -->
  
    <h2>Method Summary</h2>
    
    
      <div class="method-summary summary">
        <ul>
          
            <li>
              <a href="#SC.Benchmark.bench">
                <code class="type">
                  +
                  
                  &nbsp;
                  
                  bench(func, key, reps, context)
                </code>
              </a>
              
                <div class="description">This is a simple way to benchmark a function.</div>
              
            </li>
          
            <li>
              <a href="#SC.Benchmark.end">
                <code class="type">
                  +
                  
                  &nbsp;
                  
                  end(key, time, runs)
                </code>
              </a>
              
                <div class="description">Call this method at the end of whatever you want to collect.</div>
              
            </li>
          
            <li>
              <a href="#SC.Benchmark.install">
                <code class="type">
                  +
                  
                  &nbsp;
                  
                  install(object, method, topLevelOnly)
                </code>
              </a>
              
                <div class="description">This bit of metaprogramming magic install a wrapper around a method and
    benchmark it whenever it is run.</div>
              
            </li>
          
            <li>
              <a href="#SC.Benchmark.log">
                <code class="type">
                  +
                  
                  &nbsp;
                  
                  log(key)
                </code>
              </a>
              
                <div class="description">This method is just like report() except that it will log the results to
    the console.</div>
              
            </li>
          
            <li>
              <a href="#SC.Benchmark.report">
                <code class="type">
                  +
                  
                  &nbsp;
                  
                  report(key)
                </code>
              </a>
              
                <div class="description">This method will return a string containing a report of the stats
    collected so far.</div>
              
            </li>
          
            <li>
              <a href="#SC.Benchmark.restore">
                <code class="type">
                  +
                  
                  &nbsp;
                  
                  restore(object, method)
                </code>
              </a>
              
                <div class="description">Restore the original method, deactivating the benchmark.</div>
              
            </li>
          
            <li>
              <a href="#SC.Benchmark.start">
                <code class="type">
                  +
                  
                  &nbsp;
                  
                  start(key, topLevelOnly, time)
                </code>
              </a>
              
                <div class="description">Call this method at the start of whatever you want to collect.</div>
              
            </li>
          
            <li>
              <a href="#SC.Benchmark.startProfile">
                <code class="type">
                  +
                  
                  &nbsp;
                  
                  startProfile(key)
                </code>
              </a>
              
                <div class="description">This will activate profiling if you have Firebug installed.</div>
              
            </li>
          
        </ul>
      </div>
    
    
    
  

<!-- ============================== field details ========================== -->    
  
    <div class="field-detail detail">
      <a name="field_detail"><h2>Property Details</h2></a> 
      
        
          <!-- One single method detail entry -->
          <div class="field">
            <a name=".enabled"></a> 
            <h3>enabled</h3>
            <p class="summary">If false, benchmarking will be disabled.</p>

            

            <p class="signature">
              +
              
              &nbsp;
              <span class="type">
                
                bool
              </span>
              <span class="name">enabled</span>
            </p>

            
              <h5>Discussion</h5>  
              <div class="description">
                <p>You might want to disable this during production to maximize performance.</p>
              </div>
            

            
          </div>
        
      
        
          <!-- One single method detail entry -->
          <div class="field">
            <a name=".stats"></a> 
            <h3>stats</h3>
            <p class="summary">This hash stores collected stats.</p>

            

            <p class="signature">
              +
              
              &nbsp;
              <span class="type">
                
                Object
              </span>
              <span class="name">stats</span>
            </p>

            
              <h5>Discussion</h5>  
              <div class="description">
                <p>It contains key value pairs.  The value will be a hash with the following properties:</p>
<ul>	<li><strong>runs</strong>: the number of times this stat has run</li>
	<li><strong>amt</strong>: the total time consumed by this (divide by runs to get avg)</li>
	<li><strong>name</strong>: an optional longer name you assigned to the stat key.  Set this  using name().</li>
	<li><strong>_starts</strong>: this array is used internally.</li>
              </div>
            

            
          </div>
        
      
        
          <!-- One single method detail entry -->
          <div class="field">
            <a name=".verbose"></a> 
            <h3>verbose</h3>
            <p class="summary">If true, then benchmarks will be logged to the console as they are 
    recorded.</p>

            

            <p class="signature">
              +
              
              &nbsp;
              <span class="type">
                
                bool
              </span>
              <span class="name">verbose</span>
            </p>

            
              <h5>Discussion</h5>  
              <div class="description">
                
              </div>
            

            
          </div>
        
      
    </div>
  

<!-- ============================== method details ========================= -->    
  
    <div class="method-detail detail">
      <a name="method_detail"><h2>Method Details</h2></a> 
      
        <!-- One single method detail entry -->
        <div class="method">
          <a name="SC.Benchmark.bench"></a> 
          <h3>bench()</h3>
          <p class="summary">This is a simple way to benchmark a function.</p>

          

          <p class="signature">
            +
            
            &nbsp;
            <span class="type">
              
              
            </span>
            <span class="name">bench</span>
            <span class="params">(func, key, reps, context)</span>
          </p> 

          <!-- METHOD PARAMETERS START -->
           
          <!-- METHOD PARAMETERS END -->

          <!-- ADDITIONAL ATTRIBUTES START -->
          

          
          <!-- ADDITIONAL ATTRIBUTES  END -->

          <h5>Discussion</h5>  
          <div class="description">
            <p>The function will be run with the name you provide the number of times you indicate.  Only the function is a required param.</p>
          </div>

          
        </div>
      
        <!-- One single method detail entry -->
        <div class="method">
          <a name="SC.Benchmark.end"></a> 
          <h3>end()</h3>
          <p class="summary">Call this method at the end of whatever you want to collect.</p>

          

          <p class="signature">
            +
            
            &nbsp;
            <span class="type">
              
              
            </span>
            <span class="name">end</span>
            <span class="params">(key, time, runs)</span>
          </p> 

          <!-- METHOD PARAMETERS START -->
          
            <h5>Parameters</h5>
            
            
              <dt><span class="name">key </span></dt>
              
              <dd></dd>
              
            
            
            
              <dt><span class="name">time </span></dt>
              
              <dd><p>Otherwise start time is now.</p></dd>
              
            
            
            
            
           
          <!-- METHOD PARAMETERS END -->

          <!-- ADDITIONAL ATTRIBUTES START -->
          

          
          <!-- ADDITIONAL ATTRIBUTES  END -->

          <h5>Discussion</h5>  
          <div class="description">
            <p>This will save the collected benchmark.</p>
          </div>

          
        </div>
      
        <!-- One single method detail entry -->
        <div class="method">
          <a name="SC.Benchmark.install"></a> 
          <h3>install()</h3>
          <p class="summary">This bit of metaprogramming magic install a wrapper around a method and
    benchmark it whenever it is run.</p>

          

          <p class="signature">
            +
            
            &nbsp;
            <span class="type">
              
              
            </span>
            <span class="name">install</span>
            <span class="params">(object, method, topLevelOnly)</span>
          </p> 

          <!-- METHOD PARAMETERS START -->
           
          <!-- METHOD PARAMETERS END -->

          <!-- ADDITIONAL ATTRIBUTES START -->
          

          
          <!-- ADDITIONAL ATTRIBUTES  END -->

          <h5>Discussion</h5>  
          <div class="description">
            
          </div>

          
        </div>
      
        <!-- One single method detail entry -->
        <div class="method">
          <a name="SC.Benchmark.log"></a> 
          <h3>log()</h3>
          <p class="summary">This method is just like report() except that it will log the results to
    the console.</p>

          

          <p class="signature">
            +
            
            &nbsp;
            <span class="type">
              
              
            </span>
            <span class="name">log</span>
            <span class="params">(key)</span>
          </p> 

          <!-- METHOD PARAMETERS START -->
           
          <!-- METHOD PARAMETERS END -->

          <!-- ADDITIONAL ATTRIBUTES START -->
          

          
          <!-- ADDITIONAL ATTRIBUTES  END -->

          <h5>Discussion</h5>  
          <div class="description">
            
          </div>

          
        </div>
      
        <!-- One single method detail entry -->
        <div class="method">
          <a name="SC.Benchmark.report"></a> 
          <h3>report()</h3>
          <p class="summary">This method will return a string containing a report of the stats
    collected so far.</p>

          

          <p class="signature">
            +
            
            &nbsp;
            <span class="type">
              
              
            </span>
            <span class="name">report</span>
            <span class="params">(key)</span>
          </p> 

          <!-- METHOD PARAMETERS START -->
           
          <!-- METHOD PARAMETERS END -->

          <!-- ADDITIONAL ATTRIBUTES START -->
          

          
          <!-- ADDITIONAL ATTRIBUTES  END -->

          <h5>Discussion</h5>  
          <div class="description">
            <p>If you pass a key, only the stats for that key will be returned.  Otherwise, all keys will be used.</p>
          </div>

          
        </div>
      
        <!-- One single method detail entry -->
        <div class="method">
          <a name="SC.Benchmark.restore"></a> 
          <h3>restore()</h3>
          <p class="summary">Restore the original method, deactivating the benchmark.</p>

          

          <p class="signature">
            +
            
            &nbsp;
            <span class="type">
              
              
            </span>
            <span class="name">restore</span>
            <span class="params">(object, method)</span>
          </p> 

          <!-- METHOD PARAMETERS START -->
          
            <h5>Parameters</h5>
            
            
              <dt><span class="type">object</span>&nbsp;<span class="name">object </span></dt>
              
              <dd></dd>
              
            
            
            
              <dt><span class="type">string</span>&nbsp;<span class="name">method </span></dt>
              
              <dd></dd>
              
            
            
           
          <!-- METHOD PARAMETERS END -->

          <!-- ADDITIONAL ATTRIBUTES START -->
          

          
          <!-- ADDITIONAL ATTRIBUTES  END -->

          <h5>Discussion</h5>  
          <div class="description">
            
          </div>

          
        </div>
      
        <!-- One single method detail entry -->
        <div class="method">
          <a name="SC.Benchmark.start"></a> 
          <h3>start()</h3>
          <p class="summary">Call this method at the start of whatever you want to collect.</p>

          

          <p class="signature">
            +
            
            &nbsp;
            <span class="type">
              
              
            </span>
            <span class="name">start</span>
            <span class="params">(key, topLevelOnly, time)</span>
          </p> 

          <!-- METHOD PARAMETERS START -->
          
            <h5>Parameters</h5>
            
            
              <dt><span class="name">key </span></dt>
              
              <dd><p>All calls to start/end with the same key will be groups together.</p></dd>
              
            
            
            
              <dt><span class="name">topLevelOnly </span></dt>
              
              <dd></dd>
              
            
            
            
              <dt><span class="name">time </span></dt>
              
              <dd><p>Otherwise the start time is now.</p></dd>
              
            
            
           
          <!-- METHOD PARAMETERS END -->

          <!-- ADDITIONAL ATTRIBUTES START -->
          

          
          <!-- ADDITIONAL ATTRIBUTES  END -->

          <h5>Discussion</h5>  
          <div class="description">
            
<p>if topLevelOnly is passed, then recursive calls to the start will be ignored and only the top level call will be benchmarked.</p>
          </div>

          
        </div>
      
        <!-- One single method detail entry -->
        <div class="method">
          <a name="SC.Benchmark.startProfile"></a> 
          <h3>startProfile()</h3>
          <p class="summary">This will activate profiling if you have Firebug installed.</p>

          

          <p class="signature">
            +
            
            &nbsp;
            <span class="type">
              
              
            </span>
            <span class="name">startProfile</span>
            <span class="params">(key)</span>
          </p> 

          <!-- METHOD PARAMETERS START -->
           
          <!-- METHOD PARAMETERS END -->

          <!-- ADDITIONAL ATTRIBUTES START -->
          

          
          <!-- ADDITIONAL ATTRIBUTES  END -->

          <h5>Discussion</h5>  
          <div class="description">
            <p>Otherwise does nothing.</p>
          </div>

          
        </div>
      
    </div>
  
  
<!-- ============================== footer ================================= -->
  <div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoctoolkit.org/" target="_parent">JsDoc Toolkit</a> 2.0.1 on Thu Oct 02 2008 13:39:02 GMT-0600 (MDT)</div>
</body>
</html>
